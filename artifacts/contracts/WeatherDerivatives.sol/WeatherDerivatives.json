{
  "_format": "hh-sol-artifact-1",
  "contractName": "WeatherDerivatives",
  "sourceName": "contracts/WeatherDerivatives.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_usdcToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_weatherOracle",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "contractId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "farmer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "strikeTemp",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "name": "ContractCreated",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "contractId",
          "type": "uint256"
        }
      ],
      "name": "ContractExpired",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "contractId",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "temperature",
          "type": "uint256"
        }
      ],
      "name": "ContractTriggered",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "previousOwner",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "OwnershipTransferred",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "contractId",
          "type": "uint256"
        }
      ],
      "name": "checkAndTriggerContract",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "contractCount",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "strikeTemp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "durationDays",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "name": "createWeatherContract",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "contractId",
          "type": "uint256"
        }
      ],
      "name": "expireContract",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "contractId",
          "type": "uint256"
        }
      ],
      "name": "getContractDetails",
      "outputs": [
        {
          "internalType": "address",
          "name": "farmer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "strikeTemp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "claimed",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "maxPayout",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "minPremium",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "renounceOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "newOwner",
          "type": "address"
        }
      ],
      "name": "transferOwnership",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_minPremium",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "_maxPayout",
          "type": "uint256"
        }
      ],
      "name": "updatePremiumLimits",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "usdcToken",
      "outputs": [
        {
          "internalType": "contract IERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "weatherContracts",
      "outputs": [
        {
          "internalType": "address",
          "name": "farmer",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "strikeTemp",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "duration",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "premium",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "startTime",
          "type": "uint256"
        },
        {
          "internalType": "bool",
          "name": "active",
          "type": "bool"
        },
        {
          "internalType": "bool",
          "name": "claimed",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "weatherOracle",
      "outputs": [
        {
          "internalType": "contract AggregatorV3Interface",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x60806040526305f5e1006006556402540be40060075534801561002157600080fd5b50604051610e65380380610e65833981016040819052610040916100ea565b6100493361007e565b60018055600280546001600160a01b039384166001600160a01b0319918216179091556003805492909316911617905561011d565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b80516001600160a01b03811681146100e557600080fd5b919050565b600080604083850312156100fd57600080fd5b610106836100ce565b9150610114602084016100ce565b90509250929050565b610d398061012c6000396000f3fe608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063a9643cfe1161008c578063e0176de811610066578063e0176de814610309578063eedb9ed514610312578063f2fde38b1461031b578063faba14f01461032e57600080fd5b8063a9643cfe146102d0578063c9d3ee5b146102e3578063d6ab13b6146102f657600080fd5b8063715018a6116100c8578063715018a61461028b5780637ee94ef1146102955780638736381a146102a85780638da5cb5b146102bf57600080fd5b806311eac855146100ef57806313ef05d61461011f5780634d6d6a9c146101d8575b600080fd5b600254610102906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61018661012d366004610b76565b6004602081905260009182526040909120805460018201546002830154600384015494840154600585015460068601546007909601546001600160a01b0390951696939592949192909160ff8082169161010090041689565b604080516001600160a01b03909a168a5260208a0198909852968801959095526060870193909352608086019190915260a085015260c0840152151560e0830152151561010082015261012001610116565b6101866101e6366004610b76565b60009081526004602081815260409283902083516101208101855281546001600160a01b0316808252600183015493820184905260028301549582018690526003830154606083018190529483015460808301819052600584015460a08401819052600685015460c0850181905260079095015460ff808216151560e08701819052610100928390049091161515919095018190529298959796959194909390929091565b610293610341565b005b600354610102906001600160a01b031681565b6102b160055481565b604051908152602001610116565b6000546001600160a01b0316610102565b6102936102de366004610b76565b610355565b6102936102f1366004610b76565b610447565b610293610304366004610b8f565b6106db565b6102b160075481565b6102b160065481565b610293610329366004610bb1565b6106ee565b6102b161033c366004610be1565b610764565b610349610a73565b6103536000610acd565b565b6000818152600460205260409020600781015460ff166103b25760405162461bcd60e51b8152602060048201526013602482015272436f6e7472616374206e6f742061637469766560681b60448201526064015b60405180910390fd5b806003015481600601546103c69190610c29565b42101561040c5760405162461bcd60e51b815260206004820152601460248201527310dbdb9d1c9858dd081b9bdd08195e1c1a5c995960621b60448201526064016103a9565b60078101805460ff1916905560405182907f9325fbfd991d20e53f36adfe94b443a61b400da1d2fa18bc3c8dd6744c10a0fa90600090a25050565b61044f610b1d565b6000818152600460205260409020600781015460ff166104a75760405162461bcd60e51b8152602060048201526013602482015272436f6e7472616374206e6f742061637469766560681b60448201526064016103a9565b6007810154610100900460ff16156104f35760405162461bcd60e51b815260206004820152600f60248201526e105b1c9958591e4818db185a5b5959608a1b60448201526064016103a9565b806003015481600601546105079190610c29565b42106105485760405162461bcd60e51b815260206004820152601060248201526f10dbdb9d1c9858dd08195e1c1a5c995960821b60448201526064016103a9565b60035460408051633fabe5a360e21b815290516000926001600160a01b03169163feaf968c9160048083019260a09291908290030181865afa158015610592573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105b69190610c61565b505050915050816002015481106106cd5760078201805461ffff19166101001790556002548254600584015460405163a9059cbb60e01b81526001600160a01b039283166004820152602481019190915291169063a9059cbb906044016020604051808303816000875af1158015610632573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106569190610cb1565b6106925760405162461bcd60e51b815260206004820152600d60248201526c14185e5bdd5d0819985a5b1959609a1b60448201526064016103a9565b827f2b99e758c8e81bbbc9ccffbbb58ffc006dccf5c0e0069e4acac228451d185327826040516106c491815260200190565b60405180910390a25b50506106d860018055565b50565b6106e3610a73565b600691909155600755565b6106f6610a73565b6001600160a01b03811661075b5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016103a9565b6106d881610acd565b600061076e610b1d565b6006548310156107b25760405162461bcd60e51b815260206004820152600f60248201526e5072656d69756d20746f6f206c6f7760881b60448201526064016103a9565b6007548211156107f65760405162461bcd60e51b815260206004820152600f60248201526e0a0c2f2deeae840e8dede40d0d2ced608b1b60448201526064016103a9565b600084118015610808575061016d8411155b6108475760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210323ab930ba34b7b760811b60448201526064016103a9565b6002546040516323b872dd60e01b8152336004820152306024820152604481018590526001600160a01b03909116906323b872dd906064016020604051808303816000875af115801561089e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c29190610cb1565b61090e5760405162461bcd60e51b815260206004820152601760248201527f5072656d69756d207472616e73666572206661696c656400000000000000000060448201526064016103a9565b600580546000918261091f83610cd3565b919050559050604051806101200160405280336001600160a01b03168152602001858152602001878152602001866201518061095b9190610cec565b8152602080820187905260408083018790524260608085019190915260016080808601829052600060a0968701819052888152600480875290859020885181546001600160a01b0319166001600160a01b039091161781558887015193810193909355878501516002840155878401516003840155878201519083015594860151600582015560c0860151600682015560e0860151600790910180546101009788015161ffff1990911692151561ff001916929092179115159096021790945580518a81529182018990528101879052918201859052339183917ff2e62f6a9ad76f577a0a21f0b85892e912487d182daa3e2a30512734ee30bfda910160405180910390a39050610a6b60018055565b949350505050565b6000546001600160a01b031633146103535760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016103a9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600260015403610b6f5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016103a9565b6002600155565b600060208284031215610b8857600080fd5b5035919050565b60008060408385031215610ba257600080fd5b50508035926020909101359150565b600060208284031215610bc357600080fd5b81356001600160a01b0381168114610bda57600080fd5b9392505050565b60008060008060808587031215610bf757600080fd5b5050823594602084013594506040840135936060013592509050565b634e487b7160e01b600052601160045260246000fd5b80820180821115610c3c57610c3c610c13565b92915050565b805169ffffffffffffffffffff81168114610c5c57600080fd5b919050565b600080600080600060a08688031215610c7957600080fd5b610c8286610c42565b9450602086015193506040860151925060608601519150610ca560808701610c42565b90509295509295909350565b600060208284031215610cc357600080fd5b81518015158114610bda57600080fd5b600060018201610ce557610ce5610c13565b5060010190565b8082028115828204841417610c3c57610c3c610c1356fea2646970667358221220c6e924125bb2c8d6cbf2019efe3504f51ae26d277a11e738ca0630e38400ed7364736f6c63430008130033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100ea5760003560e01c8063a9643cfe1161008c578063e0176de811610066578063e0176de814610309578063eedb9ed514610312578063f2fde38b1461031b578063faba14f01461032e57600080fd5b8063a9643cfe146102d0578063c9d3ee5b146102e3578063d6ab13b6146102f657600080fd5b8063715018a6116100c8578063715018a61461028b5780637ee94ef1146102955780638736381a146102a85780638da5cb5b146102bf57600080fd5b806311eac855146100ef57806313ef05d61461011f5780634d6d6a9c146101d8575b600080fd5b600254610102906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b61018661012d366004610b76565b6004602081905260009182526040909120805460018201546002830154600384015494840154600585015460068601546007909601546001600160a01b0390951696939592949192909160ff8082169161010090041689565b604080516001600160a01b03909a168a5260208a0198909852968801959095526060870193909352608086019190915260a085015260c0840152151560e0830152151561010082015261012001610116565b6101866101e6366004610b76565b60009081526004602081815260409283902083516101208101855281546001600160a01b0316808252600183015493820184905260028301549582018690526003830154606083018190529483015460808301819052600584015460a08401819052600685015460c0850181905260079095015460ff808216151560e08701819052610100928390049091161515919095018190529298959796959194909390929091565b610293610341565b005b600354610102906001600160a01b031681565b6102b160055481565b604051908152602001610116565b6000546001600160a01b0316610102565b6102936102de366004610b76565b610355565b6102936102f1366004610b76565b610447565b610293610304366004610b8f565b6106db565b6102b160075481565b6102b160065481565b610293610329366004610bb1565b6106ee565b6102b161033c366004610be1565b610764565b610349610a73565b6103536000610acd565b565b6000818152600460205260409020600781015460ff166103b25760405162461bcd60e51b8152602060048201526013602482015272436f6e7472616374206e6f742061637469766560681b60448201526064015b60405180910390fd5b806003015481600601546103c69190610c29565b42101561040c5760405162461bcd60e51b815260206004820152601460248201527310dbdb9d1c9858dd081b9bdd08195e1c1a5c995960621b60448201526064016103a9565b60078101805460ff1916905560405182907f9325fbfd991d20e53f36adfe94b443a61b400da1d2fa18bc3c8dd6744c10a0fa90600090a25050565b61044f610b1d565b6000818152600460205260409020600781015460ff166104a75760405162461bcd60e51b8152602060048201526013602482015272436f6e7472616374206e6f742061637469766560681b60448201526064016103a9565b6007810154610100900460ff16156104f35760405162461bcd60e51b815260206004820152600f60248201526e105b1c9958591e4818db185a5b5959608a1b60448201526064016103a9565b806003015481600601546105079190610c29565b42106105485760405162461bcd60e51b815260206004820152601060248201526f10dbdb9d1c9858dd08195e1c1a5c995960821b60448201526064016103a9565b60035460408051633fabe5a360e21b815290516000926001600160a01b03169163feaf968c9160048083019260a09291908290030181865afa158015610592573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906105b69190610c61565b505050915050816002015481106106cd5760078201805461ffff19166101001790556002548254600584015460405163a9059cbb60e01b81526001600160a01b039283166004820152602481019190915291169063a9059cbb906044016020604051808303816000875af1158015610632573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906106569190610cb1565b6106925760405162461bcd60e51b815260206004820152600d60248201526c14185e5bdd5d0819985a5b1959609a1b60448201526064016103a9565b827f2b99e758c8e81bbbc9ccffbbb58ffc006dccf5c0e0069e4acac228451d185327826040516106c491815260200190565b60405180910390a25b50506106d860018055565b50565b6106e3610a73565b600691909155600755565b6106f6610a73565b6001600160a01b03811661075b5760405162461bcd60e51b815260206004820152602660248201527f4f776e61626c653a206e6577206f776e657220697320746865207a65726f206160448201526564647265737360d01b60648201526084016103a9565b6106d881610acd565b600061076e610b1d565b6006548310156107b25760405162461bcd60e51b815260206004820152600f60248201526e5072656d69756d20746f6f206c6f7760881b60448201526064016103a9565b6007548211156107f65760405162461bcd60e51b815260206004820152600f60248201526e0a0c2f2deeae840e8dede40d0d2ced608b1b60448201526064016103a9565b600084118015610808575061016d8411155b6108475760405162461bcd60e51b815260206004820152601060248201526f24b73b30b634b210323ab930ba34b7b760811b60448201526064016103a9565b6002546040516323b872dd60e01b8152336004820152306024820152604481018590526001600160a01b03909116906323b872dd906064016020604051808303816000875af115801561089e573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906108c29190610cb1565b61090e5760405162461bcd60e51b815260206004820152601760248201527f5072656d69756d207472616e73666572206661696c656400000000000000000060448201526064016103a9565b600580546000918261091f83610cd3565b919050559050604051806101200160405280336001600160a01b03168152602001858152602001878152602001866201518061095b9190610cec565b8152602080820187905260408083018790524260608085019190915260016080808601829052600060a0968701819052888152600480875290859020885181546001600160a01b0319166001600160a01b039091161781558887015193810193909355878501516002840155878401516003840155878201519083015594860151600582015560c0860151600682015560e0860151600790910180546101009788015161ffff1990911692151561ff001916929092179115159096021790945580518a81529182018990528101879052918201859052339183917ff2e62f6a9ad76f577a0a21f0b85892e912487d182daa3e2a30512734ee30bfda910160405180910390a39050610a6b60018055565b949350505050565b6000546001600160a01b031633146103535760405162461bcd60e51b815260206004820181905260248201527f4f776e61626c653a2063616c6c6572206973206e6f7420746865206f776e657260448201526064016103a9565b600080546001600160a01b038381166001600160a01b0319831681178455604051919092169283917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e09190a35050565b600260015403610b6f5760405162461bcd60e51b815260206004820152601f60248201527f5265656e7472616e637947756172643a207265656e7472616e742063616c6c0060448201526064016103a9565b6002600155565b600060208284031215610b8857600080fd5b5035919050565b60008060408385031215610ba257600080fd5b50508035926020909101359150565b600060208284031215610bc357600080fd5b81356001600160a01b0381168114610bda57600080fd5b9392505050565b60008060008060808587031215610bf757600080fd5b5050823594602084013594506040840135936060013592509050565b634e487b7160e01b600052601160045260246000fd5b80820180821115610c3c57610c3c610c13565b92915050565b805169ffffffffffffffffffff81168114610c5c57600080fd5b919050565b600080600080600060a08688031215610c7957600080fd5b610c8286610c42565b9450602086015193506040860151925060608601519150610ca560808701610c42565b90509295509295909350565b600060208284031215610cc357600080fd5b81518015158114610bda57600080fd5b600060018201610ce557610ce5610c13565b5060010190565b8082028115828204841417610c3c57610c3c610c1356fea2646970667358221220c6e924125bb2c8d6cbf2019efe3504f51ae26d277a11e738ca0630e38400ed7364736f6c63430008130033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
